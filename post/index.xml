<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Mole of tales</title><generator uri="https://gohugo.io">Hugo</generator><link>https://icpmoles.github.io/post/</link><language>it-it</language><author>Iacopo Moles</author><updated>Fri, 07 May 2021 09:03:07 UTC</updated><image><url>https://icpmoles.github.io/favicon.png</url></image><item><title>Enable DoH when Chrome is managed</title><link>https://icpmoles.github.io/post/chrome-doh/</link><pubDate>Fri, 07 May 2021 09:03:07 UTC</pubDate><author>Iacopo Moles</author><guid>https://icpmoles.github.io/post/chrome-doh/</guid><description> &lt;p>For what ever reason your browser is locked out from changing the &lt;abbr title="DNS over HTTPS">DoH&lt;/abbr> settings? Here is how to change the settings if you have admin permissions.&lt;/p>
&lt;p>It happened to me to buy a new laptop. This laptop comes with all the usual OEM stuff to manage security and updates. One of those software scans every downloaded file and marks its origin. To do that the software enables the &lt;code>GroupPolicyUsers&lt;/code> and installs an extension.&lt;/p>
&lt;p>Ok, cool but now whenever I want to change some Chrome (or even Firefox) settings I&amp;rsquo;m greeted with this message:&lt;/p>
&lt;p> &lt;img src="https://icpmoles.github.io/admin_warning.png" alt="" />
&lt;/p>
&lt;p>Since I wanted to use my NextDNS account I had to fix this.&lt;/p>
&lt;p>First try was removing the USer Policy by using a simble bash script found somewhere online&lt;/p>
&lt;div class="highlight">&lt;div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;">&lt;tr>&lt;td style="vertical-align:top;padding:0;margin:0;border:0;">
&lt;pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code>&lt;span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
&lt;/span>&lt;span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
&lt;/span>&lt;span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
&lt;/span>&lt;span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
&lt;/span>&lt;span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
&lt;/span>&lt;span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
&lt;/span>&lt;span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
&lt;/span>&lt;span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
&lt;/span>&lt;span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
&lt;/span>&lt;span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
&lt;/span>&lt;span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
&lt;/span>&lt;span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
&lt;/span>&lt;span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
&lt;/span>&lt;span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
&lt;/span>&lt;span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
&lt;/span>&lt;span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
&lt;/span>&lt;span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
&lt;/span>&lt;span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
&lt;/span>&lt;span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
&lt;/span>&lt;span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
&lt;/span>&lt;span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
&lt;/span>&lt;span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
&lt;/span>&lt;span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
&lt;/span>&lt;span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
&lt;/span>&lt;span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
&lt;/span>&lt;span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
&lt;/span>&lt;span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
&lt;pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">@echo off
IF NOT EXIST %WINDIR%&lt;span style="color:#f1fa8c">\\&lt;/span>System32&lt;span style="color:#f1fa8c">\\&lt;/span>GroupPolicy goto next
&lt;span style="color:#8be9fd;font-style:italic">echo&lt;/span> Deleting GroupPolicy folder...
RD /S /Q &lt;span style="color:#f1fa8c">&amp;#34;%WINDIR%\\System32\\GroupPolicy&amp;#34;&lt;/span> &lt;span style="color:#ff79c6">||&lt;/span> goto error
echo.
:next
IF NOT EXIST %WINDIR%&lt;span style="color:#f1fa8c">\\&lt;/span>System32&lt;span style="color:#f1fa8c">\\&lt;/span>GroupPolicyUsers goto next2
&lt;span style="color:#8be9fd;font-style:italic">echo&lt;/span> Deleting GroupPolicyUsers folder...
RD /S /Q &lt;span style="color:#f1fa8c">&amp;#34;%WINDIR%\\System32\\GroupPolicyUsers&amp;#34;&lt;/span> &lt;span style="color:#ff79c6">||&lt;/span> goto error
echo.
:next2
gpupdate /force
pause
&lt;span style="color:#8be9fd;font-style:italic">exit&lt;/span>
:error
echo.
&lt;span style="color:#8be9fd;font-style:italic">echo&lt;/span> An unexpected error has occurred. Â¨Have opened the program as an administrator &lt;span style="color:#ff79c6">(&lt;/span>right click, run as administrator&lt;span style="color:#ff79c6">)&lt;/span>?
echo.
pause
exit&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;p>But this resetted at every boot. A more robust soultion was needed.&lt;/p>
&lt;p>Removing the OEM security software? I was afraid of breaking some weird software integration with the fingerprint and boot security software. ðŸ˜…&lt;/p>
&lt;p>Now the final solution: If you can&amp;rsquo;t remove the User Policy use it.&lt;/p>
&lt;p>Looking up about the various admin policies on the &lt;a href="https://cloud.google.com/docs/chrome-enterprise/policies/?policy=DnsOverHttpsMode">Google Chrome&lt;/a> website it&amp;rsquo;s possibile to find the ones useful for us: &lt;code>DnsOverHttpsMode&lt;/code> and &lt;code>DnsOverHttpsTemplates&lt;/code>.&lt;/p>
&lt;p>Just set &lt;code>DnsOverHttpsMode&lt;/code> to &lt;code>secure&lt;/code> or &lt;code>automatic&lt;/code> depending if you want it to not have an insecure fallback.&lt;/p>
&lt;p>Then &lt;code>DnsOverHttpsTemplates&lt;/code> you need to fill your DoH provider.&lt;/p>
&lt;p>The &lt;a href="https://chromeenterprise.google/policies/#DnsOverHttpsTemplates">Chrome Policy&lt;/a> is a bit confusing but you just need to take the &lt;code>https&lt;/code> URL and add &lt;code>/dns-query{?dns}&lt;/code> after it (&lt;a href="https://tools.ietf.org/html/rfc8484#section-4.1.1">better explaination&lt;/a>).&lt;/p>
&lt;p>So if NextDNS provides you with &lt;code>https://dns.nextdns.io/123abc&lt;/code> your URL to fill is &lt;code>https://dns.nextdns.io/123abc/dns-query{?dns}&lt;/code>&lt;/p>
&lt;p>Here is a list of various DoH providers with everything already filled in:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Provider&lt;/th>
&lt;th>Standard&lt;/th>
&lt;th>Family Protection&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>AdGuard&lt;/td>
&lt;td>&lt;code>https://dns.adguard.com/dns-query{?dns}&lt;/code>&lt;/td>
&lt;td>&lt;code>https://dns-family.adguard.com/dns-query{?dns}&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Cloudflare&lt;/td>
&lt;td>&lt;code>https://cloudflare-dns.com/dns-query{?dns}&lt;/code>&lt;/td>
&lt;td>&lt;code>https://family.cloudflare-dns.com/dns-query{?dns}&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Google&lt;/td>
&lt;td>&lt;code>https://dns.google/dns-query{?dns}&lt;/code>&lt;/td>
&lt;td>NA&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>OpenDNS&lt;/td>
&lt;td>&lt;code>https://doh.opendns.com/dns-query{?dns}&lt;/code>&lt;/td>
&lt;td>&lt;code>https://doh.familyshield.opendns.com/dns-query{?dns}&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Quad9&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>&lt;/td>
&lt;td>&lt;code>https://dns.quad9.net/dns-query{?dns}&lt;/code>&lt;/td>
&lt;td>NA&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>Bot how to enable it? You can edit manual through &lt;code>regedit&lt;/code> or you can copy this code in a new file and save it with a &lt;code>.reg&lt;/code> extension. You can directly insert your DNS of choice in place of the default Google one.&lt;/p>
&lt;pre>&lt;code class="language-linenos=table" data-lang="linenos=table">Windows Registry Editor Version 5.00
[HKEY_LOCAL_MACHINE\SOFTWARE\Policies\Google\Chrome]
&amp;#34;DnsOverHttpsTemplates&amp;#34;=&amp;#34;https://dns.google/dns-query{?dns}&amp;#34;
&amp;#34;DnsOverHttpsMode&amp;#34;=&amp;#34;automatic&amp;#34;&lt;/code>&lt;/pre>
&lt;section class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1" role="doc-endnote">
&lt;p>Be aware that they provide different hostnames with different features like ECS etc. &lt;a href="https://www.quad9.net/news/blog/doh-with-quad9-dns-servers/#:~:text=quad9%20supports%20three%20flavors%20of%20dns%20currently.">Quad9&lt;/a>&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/section></description></item><item><title>Hugo rendering: Github Pages vs Netlify vs Cloudflare Pages</title><link>https://icpmoles.github.io/post/hosting-comparisons/</link><pubDate>Tue, 04 May 2021 20:07:30 UTC</pubDate><author>Iacopo Moles</author><guid>https://icpmoles.github.io/post/hosting-comparisons/</guid><description> &lt;p>Given the various choices of hosting for your static files you may be unsure which one to pick.&lt;/p>
&lt;h2 id="github-pages" clas=" mark rss xml">Github Pages&lt;/h2>
&lt;h3 id="upsides" clas=" mark rss xml">Upsides&lt;/h3>
&lt;blockquote style="border-left-color:var(--green); background:var(--c-green)" class="quote-color">
&lt;p>&lt;ul>
&lt;li>Free&lt;/li>
&lt;li>Ease of integration with other Github projects&lt;/li>
&lt;li>One single service for repo and website&lt;/li>
&lt;/ul>
&lt;/p>
&lt;/blockquote>
&lt;h3 id="downsides" clas=" mark rss xml">Downsides&lt;/h3>
&lt;blockquote style="border-left-color:var(--red); background:var(--c-red)" class="quote-color">
&lt;p>&lt;ul>
&lt;li>Heavy config file based&lt;/li>
&lt;li>Not easy to setup&lt;/li>
&lt;li>Hacky configuration, Github Pages was meant to work with Jeykill so it&amp;rsquo;s not exactly optimized for Hugo&lt;/li>
&lt;li>No plugins&lt;/li>
&lt;li>No CMS included&lt;/li>
&lt;li>Only one website per account&lt;/li>
&lt;/ul>
&lt;/p>
&lt;/blockquote>
&lt;h2 id="netlify" clas=" mark rss xml">Netlify&lt;/h2>
&lt;h3 id="upsides-1" clas=" mark rss xml">Upsides&lt;/h3>
&lt;blockquote style="border-left-color:var(--green); background:var(--c-green)" class="quote-color">
&lt;p>&lt;ul>
&lt;li>Free&lt;/li>
&lt;li>Easy configuration with a few clicks&lt;/li>
&lt;li>Huge support for all the static builders, Hugo included&lt;/li>
&lt;li>Great UI, useful for beginners and more experienced people too&lt;/li>
&lt;li>Plugins to integrate your website&lt;/li>
&lt;li>Authentication integration&lt;/li>
&lt;li>CMS included&lt;/li>
&lt;li>Multiple Websites&lt;/li>
&lt;/ul>
&lt;/p>
&lt;/blockquote>
&lt;h3 id="downsides-1" clas=" mark rss xml">Downsides&lt;/h3>
&lt;blockquote style="border-left-color:var(--red); background:var(--c-red)" class="quote-color">
&lt;p>&lt;ul>
&lt;li>Bandwith limitations&lt;/li>
&lt;li>You can run out of compile time pretty fast in the free tier&lt;/li>
&lt;li>(hypothetical) Netlify has not Microsoft or Cloudflare on their back that can support this type of service for free forever, I won&amp;rsquo;t bet on the free service lasting forever (see Forestry)&lt;/li>
&lt;/ul>
&lt;/p>
&lt;/blockquote>
&lt;h2 id="github-pages-1" clas=" mark rss xml">Github Pages&lt;/h2>
&lt;h3 id="upsides-2" clas=" mark rss xml">Upsides&lt;/h3>
&lt;blockquote style="border-left-color:var(--green); background:var(--c-green)" class="quote-color">
&lt;p>&lt;ul>
&lt;li>Free&lt;/li>
&lt;li>Easy configuration with a few clicks&lt;/li>
&lt;/ul>
&lt;/p>
&lt;/blockquote>
&lt;h3 id="downsides-2" clas=" mark rss xml">Downsides&lt;/h3>
&lt;blockquote style="border-left-color:var(--red); background:var(--c-red)" class="quote-color">
&lt;p>&lt;ul>
&lt;li>They are the new kids on the block, until they can complete all the configurations some builds that require the extended version of Hugo may fail.&lt;/li>
&lt;li>The UI still lacks some features at the time of the writing if this article (May 2021) and you can&amp;rsquo;t hack your way out of some situations with configuration files like for Github Pages or Netlify.&lt;/li>
&lt;/ul>
&lt;/p>
&lt;/blockquote></description></item><item><title>How does this blog work?</title><link>https://icpmoles.github.io/post/blog-backend/</link><pubDate>Tue, 30 Mar 2021 14:52:08 UTC</pubDate><author>Iacopo Moles</author><guid>https://icpmoles.github.io/post/blog-backend/</guid><description> &lt;p>Have you ever wondered how this blog is setup?&lt;/p>
&lt;p> &lt;img src="https://icpmoles.github.io/new.jpg" alt="Diagram" title="Backend for the blog" />
&lt;/p></description></item><item><title>Test for the CMS</title><link>https://icpmoles.github.io/post/hello-world/</link><pubDate>Sun, 15 Dec 2019 23:00:00 UTC</pubDate><author>Iacopo Moles</author><guid>https://icpmoles.github.io/post/hello-world/</guid><description> &lt;p>Provo se usando Forestry immagini e altre robe funzionano&lt;/p>
&lt;p> &lt;img src="https://icpmoles.github.io/giphy-7.gif" alt="" />
&lt;/p>
&lt;p>Porca puttana Forestry sta per chiudere il servizio di deploy in cloud!&lt;/p>
&lt;h4 id="update-02072020" clas=" mark rss xml">UPDATE 02/07/2020:&lt;/h4>
&lt;p>Non lo hanno ancora chiuso credo, il loro blog Ã¨ cosÃ¬ confusionario.&lt;/p>
&lt;h4 id="update-23082020" clas=" mark rss xml">UPDATE 23/08/2020:&lt;/h4>
&lt;p>Sto aggiornando alcune parti per il CSP e non funziona piÃ¹.&lt;/p>
&lt;h4 id="update-23082020-1" clas=" mark rss xml">UPDATE 23/08/2020:&lt;/h4>
&lt;p>Sono passato alle GitHub Actions per il deploy, grazie a &lt;a href="https://www.jameswright.xyz/post/deploy-hugo-academic-using-githubio/">questa guida&lt;/a>.&lt;/p>
&lt;p>Sto ancora cercando di aggiustare un conflitto del CSP che non mi permette di usare JS inline senza andare a modificare gli headers (che non posso fare perchÃ© GitHub me non lo permette).&lt;/p>
&lt;p>Ho fixato il &lt;a href="https://www.whatismyreferer.com/">referr http credo&lt;/a>. &lt;a href="https://whatsmyreferer.com/">Secondo test&lt;/a>.&lt;/p>
&lt;h4 id="update-24082020" clas=" mark rss xml">UPDATE 24/08/2020:&lt;/h4>
&lt;p>Voglio provare se YT e altri embed funzionano&lt;/p>
&lt;div class="embed video-player">
&lt;iframe class="youtube-player" type="text/html" width="100%" height="400"
src="https://www.youtube-nocookie.com/embed/w7Ft2ymGmfc?color=white&amp;modestbranding&amp;rel=0&amp;playsinline&amp;showinfo=0&amp;controls=2"
frameborder="0"
srcdoc="&lt;style>*{padding:0;margin:0;overflow:hidden}html,body{height:100%}img,span{position:absolute;width:100%;top:0;bottom:0;margin:auto }span{height:1.5em;text-align:center;font:48px/1.5 sans-serif;color:white;text-shadow:0 0 0.5em black}&lt;/style>&lt;a href=https://www.youtube-nocookie.com/embed/w7Ft2ymGmfc?color=white&amp;modestbranding&amp;rel=0&amp;playsinline&amp;showinfo=0&amp;controls=2&amp;autoplay=1>&lt;img src=https://img.youtube.com/vi/w7Ft2ymGmfc/hqdefault.jpg loading=lazy >&lt;span>â–¶&lt;/span>&lt;/a>"
allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
allowfullscreen
loading="lazy"
>
&lt;/iframe>
&lt;/div>
&lt;blockquote class="twitter-tweet">&lt;p lang="en" dir="ltr">&amp;quot;No one is born hating another person because of the color of his skin or his background or his religion...&amp;quot; &lt;a href="https://t.co/InZ58zkoAm">pic.twitter.com/InZ58zkoAm&lt;/a>&lt;/p>&amp;mdash; Barack Obama (@BarackObama) &lt;a href="https://twitter.com/BarackObama/status/896523232098078720?ref_src=twsrc%5Etfw">August 13, 2017&lt;/a>&lt;/blockquote>
&lt;div class="s_video_simple __h_video">
&lt;a href="https://vimeo.com/1.46022717e&amp;#43;08" rel="noopener" target="_blank">
&lt;img src="https://i.vimeocdn.com/video/544362910_295x166.jpg" srcset="https://i.vimeocdn.com/video/544362910_295x166.jpg 1x, https://i.vimeocdn.com/video/544362910.jpg 2x" alt="The Clock of the Long Now">
&lt;div class="play">&lt;svg version="1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 61 61">&lt;circle cx="30.5" cy="30.5" r="30.5" opacity=".8" fill="#000">&lt;/circle>&lt;path d="M25.3 19.2c-2.1-1.2-3.8-.2-3.8 2.2v18.1c0 2.4 1.7 3.4 3.8 2.2l16.6-9.1c2.1-1.2 2.1-3.2 0-4.4l-16.6-9z" fill="#fff">&lt;/path>&lt;/svg>&lt;/div>&lt;/a>&lt;/div>
&lt;p> &lt;img src="https://icpmoles.github.io/giphy-6.gif" alt="Train" title="Infinity" />
&lt;/p>
&lt;blockquote style="border-left-color:var(--green); background:var(--c-green)" class="quote-color">
&lt;p>TEst&lt;/p>
&lt;/blockquote></description></item></channel></rss>